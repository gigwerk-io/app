<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="primary" icon="md-arrow-back"  mode="md" defaultHref="/app/welcome"></ion-back-button>
    </ion-buttons>
    <ion-title>Customer Referral</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-grid>
    <ion-row justify-content-center align-items-center text-center>
      <ion-card class="referral-card">
        <img class="user-img" [src]="image" />
        <ion-card-header>
          <ion-card-subtitle>$10 Off Your Request!</ion-card-subtitle>
          <ion-card-title>{{name}}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          {{name}} gave you $10 in FAVR credit towards your first job request in {{location}}.

          <br><br>
          <small>Once submitted, you will receive an email shortly for further steps.</small>
        </ion-card-content>
        <form #referralForm="ngForm">
          <ion-list lines="full" class="ion-no-margin ion-no-padding">
            <ion-item>
              <ion-label position="stacked">Your Email <ion-text color="danger">*</ion-text></ion-label>
              <ion-input type="email" placeholder="example@gmail.com" #email="ngModel" [(ngModel)]="newReferral.email" name="email" required autofocus></ion-input>
            </ion-item>
          </ion-list>

          <ion-text color="danger">
            <p [hidden]="email.valid || submitted == false" class="ion-padding-start">
              Email is required
            </p>
          </ion-text>

          <div class="ion-padding">
            <ion-button expand="block" type="submit" class="ion-no-margin" (click)="submitReferral(referralForm)" >Download & Claim</ion-button>
          </div>
        </form>
        <ion-card-content>
          <small>
            You must be new to FAVR and in an eligible market to qualify. Offer valid
            30 days after activation. Cannot be combined with other offers.
            Subject to FAVR's Terms of Service.
          </small>
        </ion-card-content>
      </ion-card>
    </ion-row>
  </ion-grid>

</ion-content>
